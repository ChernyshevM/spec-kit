Spec-Driven AI: Как превратить ИИ из волшебника в предсказуемого исполнителя

Когда ИИ делает «магию» — результат непредсказуем. На PSD Tech поделились подходом, при котором агенты работают по чёткой спецификации, как разработчики, а не шаманы. Пример с новогодним тетрисом и инструкция по SpecKit уже в статье, а запись доступна по ссылке.

Виктор Гусев представил решение spec-driven development с использованием AI-агентов. Его выступление — не просто демонстрация инструментов, а призыв к осознанному, структурированному взаимодействию с ИИ, где результат перестаёт быть случайным и становится контролируемым.

Проблема: "магия" вместо контроля
Многие из нас сталкивались с ситуацией: вы даёте агенту задачу — он что-то делает, и иногда даже работает. Но как? Почему? Что он на самом деле понял? 

Витя отметил: «Результат похож на магию — непредсказуемый, неповторимый, и часто выходит за рамки ожиданий». Это особенно актуально, когда речь идёт о сложных проектах, где каждый шаг должен быть воспроизводим и проверяем.

Решение: спецификация как единый источник истины
Ключевой тезис доклада: спецификация — это не текст, это программа для агента. Вместо того чтобы полагаться на «интуицию» модели, мы даём ей чёткий, пошаговый план — как в классической разработке, но в формате, понятном ИИ.

Виктор продемонстрировал это на примере SpecKit — фреймворка от GitHub, который помогает строить AI-проекты по принципу "сначала спецификация, потом реализация". В основе — не волшебство, а чёткие промты, шаблоны и структурированные шаги.

Как это работает: от идеи до кода
На живом демо Виктор создал новогодний консольный тетрис на Java — за считанные минуты. Но процесс был далёк от хаотичного "сделай всё":

Конституция проекта — фиксируем принципы: язык (русский), тип (консольное приложение), стек (Java + ANSI-цвета).
Спецификация требований — описываем функционал: игровое поле-ёлка, статистика, следующая фигура, код доступа.
Валидация — агент анализирует спецификацию, находит пробелы (например, не указан GUI-фреймворк) и предлагает уточнения.
Планирование и таски — генерируется план из 33 задач, разбитых по фазам, с приоритетами и чек-листами.
Реализация — агент пошагово создаёт код, используя подагентов для сборки, проверки и отладки.
Важно: всё сохраняется в файлах, а не теряется в чате. Это позволяет в любой момент вернуться, проверить, изменить — и продолжить с того же места.

Почему это работает?
Нет магии — есть структура. Агент не "думает", он следует инструкции. Чем чётче спецификация — тем предсказуемее результат.
Контекст под контролем. Использование подагентов и сжатие контекста помогают избежать переполнения и галлюцинаций.
Валидация на каждом этапе. Агент сам проверяет свою работу, выявляет конфликты и предлагает исправления.
Как начать использовать SpecKit: краткая инструкция
SpecKit — это набор промтов и шаблонов, а не полноценный CLI-инструмент. Он работает с любым AI-агентом (например, Cursor, Cline, OpenDevin и др.), который поддерживает выполнение команд и работу с файлами.

Вот как начать:

Склонируйте репозиторий
git clone https://github.com/github/spec-kit.git
cd spec-kit
Скопируйте шаблоны в свой проект
Перенесите папку templates/ в корень вашего нового или существующего проекта:

cp -r templates/ /ваш/проект/.spec-templates/
Запустите агента в папке проекта
Запустите поддерживаемый AI-агент (например, Cursor, Cline и т.п.) и убедитесь, что он имеет доступ к файлам.

Начните с конституции
Создайте файл CONSTITUTION.md — опишите базовые принципы:

- Язык интерфейса: русский
- Тип приложения: консольное
- Язык реализации: Java 22
- Использовать ANSI-цвета для оформления
- Архитектура: модульная, без GUI
Опишите спецификацию
Создайте SPEC.md — опишите функциональные и нефункциональные требования:

- Игровое поле оформлено как ёлка
- Фигуры цветные
- Отображается: счёт, уровень, следующая фигура
- Перед запуском — ввод кода доступа
- Уровни усложняются со временем
Запросите генерацию
Скажите агенту: "На основе CONSTITUTION.md и SPEC.md создай план реализации, разбей на таски и сгенерируй структуру проекта." 

Агент:

Создаст PLAN.md с чек-листами,
Сформирует TASKS.md с пошаговыми задачами,
Сгенерирует каркас кода.
Валидируйте и уточняйте
Используйте команду вроде: "Проверь спецификацию на полноту. Есть ли неоднозначности? Предложи улучшения." 

SpecKit не делает всё за вас — он структурирует процесс, чтобы вы могли контролировать каждый шаг.

Когда использовать — и когда не стоит
SpecKit отлично подходит для:

Больших проектов с не до конца проработанными требованиями — помогает их структурировать и проверить.
Старта новых проектов — быстро создаётся архитектура, структура классов, шаблоны.
Но для мелких задач (например, написание одного DTO) подход может быть избыточным — проще сделать вручную.

Главный инсайт: промт — это код
Виктор подчеркнул: «SpecKit — это не волшебная палочка, а просто хорошо написанный промт. Но он показывает, как надо писать свои промты: просто, структурированно, с чек-листами и шаблонами».

Изучение таких фреймворков — отличная практика для любого разработчика, который хочет управлять ИИ, а не быть управляемым им.

Хотите попробовать?
SpecKit доступен на GitHub: github.com/github/spec-kit

Делитесь своими впечатлениями от использования SpecKit в комментариях. Давайте вместе систематизируем работу с AI!

Подключайтесь на PSD Tech каждую пятницу в 15:00 (добавить встречу в календарь)
Приходите к нам в канал и задавайте свои вопросы!
Канал в TiMe: ~psd-core-tech-pub
P.S. Новогодний тетрис работает. И да, он залипательный. Проверяли лично.

BashBashMarkdownMarkdown


